<!DOCTYPE html>
<html lang="EN">
<head>
    <%- include('./partials/head')%>
    <title>Editar producto</title>
    <link rel="stylesheet" href="/css/new-product.css">
</head>
<body>
    <%- include('./partials/header')%>
    <main>
        <div class='caja'>
          <div class="edit-product-form">

            <h3>Modificar el Producto</h3>
            <form class="caja" id="form" action="/products/edit/<%= products.id %>?_method=PUT" method="POST" enctype="multipart/form-data">

                <div>
                  <ul id="errores"></ul>
                </div>
                <div>
                 <label>Nombre del Producto</label>
                  <input type="text" id="nombre" name="titulo" placeholder="Nombre de producto"  value='<%= products.name %>'>
                  <% if (locals.errors&&errors.titulo) {%>
                    <div class="text-danger">
                      <%= errors.titulo.msg %> 
                    </div>
                  <% }%>       
                </div>
                <div>
                  <label>Descripción</label>
                   <textarea id="descripcion" name="descripcion" placeholder="Descripcion"> <%= products.description %></textarea>
                   <% if (locals.errors&&errors.descripcion) {%>
                    <div class="text-danger">
                      <%= errors.descripcion.msg %> 
                    </div>
                  <% }%>  
                </div>
                <div>
                  <label>Imagen</label>
                   <input type="file" name="productImage" placeholder="Imagen" id="productImage" accept=".jpg, .png, .jpeg" multiple value="<%= products.image %> ">
                   <% if (locals.errors&&errors.productImage) {%>
                    <div class="text-danger">
                      <%= errors.productImage.msg %> 
                    </div>
                  <% }%>     
                </div>
                <div>
                  <label>Categoría</label>
                     <select name="categoria" id="">
                       <% for( let i = 0; i < categorias.length; i++ ) { %>
                         <% if (categorias[i].id == products.category_id) { %>
                           <option value='<%= categorias[i].id %>' selected>
                             <%= categorias[i].name%> 
                         </option>
                         <% } else { %>
                           <option value='<%= categorias[i].id %>'>
                             <%= categorias[i].name%> 
                         </option>
                           <% } %> 
                       <% } %>
                       
                   </select>
               </div>
               <div>
                <label>Color</label>
                   <select name="color" id="">
                     <% for( let i = 0; i < colors.length; i++ ) { %>
                       <% if (colors[i].id == products.color_id) { %>
                         <option value='<%= colors[i].id %>' selected>
                           <%= colors[i].name%> 
                       </option>
                       <% } else { %>
                         <option value='<%= colors[i].id %>'>
                           <%= colors[i].name%> 
                       </option>
                         <% } %> 
                     <% } %>
                     
                 </select>
             </div>
               <div>
               
               </div>
               <div>
                 <label>Precio</label>
                  <input type="text" name="precio" placeholder="Precio" id="precio" value='<%= products.price %>'>    
               </div>
               <div>
                 <button id="boton" type="submit" name="edit">Guardar Cambios</button>
               </div>
              </form>
          </div>
           
        </div>
            
    </main>
    <%- include('./partials/footer')%>
    <script src="/javascript/products.js"></script>
    
</body>
</html>